var filt=document.querySelector(".filt-price"),filt1=document.querySelector(".filt-type"),filt2=document.querySelector(".filt-rating"),pre=document.querySelector(".pre"),next=document.querySelector(".next"),formFilters=document.querySelector(".form_filters"),hotel=formFilters.querySelector("#hotel"),checkHotel=formFilters.querySelector(".check-hotel"),motel=formFilters.querySelector("#motel"),checkMotel=formFilters.querySelector(".check-motel"),apartments=formFilters.querySelector("#apartments"),checkApart=formFilters.querySelector(".check-apart");function init2slider(e,t,i,s,l,a){var d=document.getElementById(e),v=document.getElementById(t),u=document.getElementById(i),m=document.getElementById(s),h=document.getElementById(l),p=document.getElementById(a),L=h.min,x=h.max;c(d);function c(e){var t=e.getBoundingClientRect();return{top:t.top+pageYOffset,left:t.left+pageXOffset}}u.style.marginLeft="0px",m.style.marginLeft=d.offsetWidth-u.offsetWidth+"px",v.style.width=d.offsetWidth-u.offsetWidth+"px",h.value=L,p.value=x,h.onchange=function(e){if(parseInt(h.value)<L&&(h.value=L),parseInt(h.value)>x&&(h.value=x),parseInt(h.value)>parseInt(p.value)){var t=h.value;h.value=p.value,p.value=t}c(d);var i=100*parseInt(h.value-L)/(x-L),s=100*parseInt(p.value-L)/(x-L),l=i*(d.offsetWidth-u.offsetWidth)/100,a=s*(d.offsetWidth-u.offsetWidth)/100;u.style.marginLeft=l+"px",m.style.marginLeft=a+"px",a<l?(v.style.width=l-a+"px",v.style.marginLeft=a+"px"):(v.style.width=a-l+"px",v.style.marginLeft=l+"px")},p.onchange=function(e){if(parseInt(p.value)<L&&(p.value=L),parseInt(p.value)>x&&(p.value=x),parseInt(h.value)>parseInt(p.value)){var t=h.value;h.value=p.value,p.value=t}c(d);var i=100*parseInt(h.value-L)/(x-L),s=100*parseInt(p.value-L)/(x-L),l=i*(d.offsetWidth-u.offsetWidth)/100,a=s*(d.offsetWidth-u.offsetWidth)/100;u.style.marginLeft=l+"px",m.style.marginLeft=a+"px",a<l?(v.style.width=l-a+"px",v.style.marginLeft=a+"px"):(v.style.width=a-l+"px",v.style.marginLeft=l+"px")},u.onmousedown=function(e){var f=c(d),t=(c(v),c(u)),r=c(m),o=e.pageX-r.left,n=e.pageX-t.left;return document.onmousemove=function(e){var t=e.pageX-n-f.left,i=d.offsetWidth-u.offsetWidth;t<0&&(t=0),i<t&&(t=i),u.style.marginLeft=t+"px",o=e.pageX-r.left;var s=e.pageX-o-f.left,l=d.offsetWidth-m.offsetWidth;s<0&&(s=0),l<s&&(s=l);var a=0,c=0;c=s<t?(v.style.width=t-s+"px",v.style.marginLeft=s+"px",a=100*s/(d.offsetWidth-u.offsetWidth),100*t/(d.offsetWidth-u.offsetWidth)):(v.style.width=s-t+"px",v.style.marginLeft=t+"px",a=100*t/(d.offsetWidth-u.offsetWidth),100*s/(d.offsetWidth-u.offsetWidth)),h.value=parseInt(L)+Math.round((x-L)*a/100),p.value=parseInt(L)+Math.round((x-L)*c/100)},!(document.onmouseup=function(){document.onmousemove=document.onmouseup=null})},m.onmousedown=function(e){var f=c(d),r=(c(v),c(u)),t=c(m),o=e.pageX-t.left,n=e.pageX-r.left;return document.onmousemove=function(e){var t=e.pageX-o-f.left,i=d.offsetWidth-m.offsetWidth;t<0&&(t=0),i<t&&(t=i),m.style.marginLeft=t+"px",n=e.pageX-r.left;var s=e.pageX-n-f.left,l=d.offsetWidth-u.offsetWidth;s<0&&(s=0),l<s&&(s=l);var a=0,c=0;c=t<s?(v.style.width=s-t+"px",v.style.marginLeft=t+"px",a=100*t/(d.offsetWidth-u.offsetWidth),100*s/(d.offsetWidth-u.offsetWidth)):(v.style.width=t-s+"px",v.style.marginLeft=s+"px",a=100*s/(d.offsetWidth-u.offsetWidth),100*t/(d.offsetWidth-u.offsetWidth)),h.value=parseInt(L)+Math.round((x-L)*a/100),p.value=parseInt(L)+Math.round((x-L)*c/100)},!(document.onmouseup=function(){document.onmousemove=document.onmouseup=null})},u.ondragstart=function(){return!1},m.ondragstart=function(){return!1}}formFilters.addEventListener("submit",function(e){var t=!1;if(hotel.checked||motel.checked||apartments.checked?t=!0:(hotel.addEventListener("click",function(e){checkHotel.classList.remove("check_box-valid")||(checkMotel.classList.remove("check_box-valid"),checkApart.classList.remove("check_box-valid"))}),motel.addEventListener("click",function(e){checkMotel.classList.remove("check_box-valid")||(checkHotel.classList.remove("check_box-valid"),checkApart.classList.remove("check_box-valid"))}),apartments.addEventListener("click",function(e){checkApart.classList.remove("check_box-valid")||(checkHotel.classList.remove("check_box-valid"),checkMotel.classList.remove("check_box-valid"))})),!t)return e.preventDefault(),checkHotel.classList.add("check_box-valid"),checkMotel.classList.add("check_box-valid"),checkApart.classList.add("check_box-valid"),!1;formFilters.submit()}),filt.addEventListener("click",function(e){pre.classList.add("filter-active"),next.classList.remove("filter-active"),filt.classList.add("filter-active")||(filt1.classList.contains("filter-active")||filt2.classList.contains("filter-active"))&&(filt1.classList.remove("filter-active"),filt2.classList.remove("filter-active"))}),filt1.addEventListener("click",function(e){pre.classList.remove("filter-active"),next.classList.remove("filter-active"),filt1.classList.add("filter-active")||(filt.classList.contains("filter-active")||filt2.classList.contains("filter-active"))&&(filt.classList.remove("filter-active"),filt2.classList.remove("filter-active"))}),filt2.addEventListener("click",function(e){next.classList.add("filter-active"),pre.classList.remove("filter-active"),filt2.classList.add("filter-active")||(filt.classList.contains("filter-active")||filt1.classList.contains("filter-active"))&&(filt.classList.remove("filter-active"),filt1.classList.remove("filter-active"))}),pre.addEventListener("click",function(e){filt2.classList.contains("filter-active")?(filt2.classList.remove("filter-active"),filt1.classList.add("filter-active"),next.classList.remove("filter-active")):filt1.classList.contains("filter-active")&&(filt1.classList.remove("filter-active"),filt.classList.add("filter-active"),pre.classList.add("filter-active"))}),next.addEventListener("click",function(e){filt.classList.contains("filter-active")?(filt.classList.remove("filter-active"),filt1.classList.add("filter-active"),pre.classList.remove("filter-active")):filt1.classList.contains("filter-active")&&(filt1.classList.remove("filter-active"),filt2.classList.add("filter-active"),next.classList.add("filter-active"))}),setTimeout(init2slider("rangeTrack","rangeBetween","pinMin","pinMax","min","max"),0);